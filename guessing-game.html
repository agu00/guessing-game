<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="guessing-game.css">


    <title>Guessing Game</title>
</head>
<body>

    <div id="container">
            <h3>The computer has chosen a random number for you, in a range from 1 to 100. Guess what is the number.</h3>
            <p>You have only 5 turns.</p>
            <br/>
            <input id="userN" type="number" />
            <button id="button" onclick="checkTheNumber()" style="margin-top:1em" type="submit">Sumbit</button><br><button id="reset" style="margin-top:1em" onclick="restart()" >Start again</button>
            <h3>Your previousy chosen numbers: </h3><p id="numbers"></p>
            <p id="text"></p>
            
    </div>

    <script>

            var randomNumber = Math.floor((Math.random()*100)+1);
            var button = document.getElementById("button");
            var arrayOfNumbers = [];
            var text = document.getElementById("text");
            var num = document.getElementById("numbers");
            var reset = document.getElementById("reset");
            var guessCount = 0;


            function checkTheNumber() {

                var usersNumber = document.getElementById("userN").value;

                if (usersNumber > 100 || usersNumber < 1) {
                        alert("Please, choose a number in a range from 1 to 100.");
                } else {

                    if (usersNumber == randomNumber) {
                        text.innerHTML = "You've guessed the number!";
                        text.style.color = "green";
                        text.style.fontWeight = "bold";
                        guessCount++;
                        arrayOfNumbers.push(usersNumber);
                        stopTheGame();
                    } else if (usersNumber < randomNumber) {
                        text.innerHTML = "<b>Hint:</b> The number is too low.";
                        arrayOfNumbers.push(usersNumber);
                        guessCount++;
                    } else if (usersNumber > randomNumber) {
                        text.innerHTML = "<b>Hint:</b> The number is too high.";
                        guessCount++;
                        arrayOfNumbers.push(usersNumber);
                    }  

                    num.innerHTML += usersNumber + ", ";
                }
                
                if (guessCount > 4) { 
                    if(usersNumber != randomNumber) {
                        stopTheGame();
                        alert("None of those numbers is the correct one. You have no more turns. Try a new game!");
                    }
                }
                
            };

            function stopTheGame(){
                    button.disabled = true;
                };

            function restart() {
                button.disabled = false;
                guessCount = 0;
                arrayOfNumbers = [];
                text.innerHTML = "";
                num.innerHTML = "";
                randomNumber = Math.floor((Math.random()*100)+1);
                document.getElementById("userN").value = "";

            };
            
    </script>
</body>
</html>